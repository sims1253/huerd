% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cvd_adjustment.R
\name{adjust_for_cvd}
\alias{adjust_for_cvd}
\title{Adjust Colors for Color Vision Deficiency (CVD)}
\usage{
adjust_for_cvd(
  lab_colors,
  base_colors = NULL,
  return_states = FALSE,
  save_every = 5,
  convergence_threshold = 10,
  min_iterations = 100,
  max_iterations = 5000
)
}
\arguments{
\item{lab_colors}{A matrix with 3 columns representing colors in LAB color space,
where each row is a color with L*, a*, and b* values}

\item{base_colors}{Optional matrix of LAB colors that should remain unchanged during
the optimization process. Must have the same format as lab_colors}

\item{return_states}{Logical; if TRUE, returns a list of intermediate color states
during optimization. Default is FALSE}

\item{save_every}{Integer specifying how often (in iterations) to save intermediate
states. Only relevant if return_states is TRUE. Default is 5}

\item{convergence_threshold}{Integer specifying how many consecutive non-improving
iterations to allow before stopping. Default is 10}

\item{min_iterations}{Minimum number of iterations to run before allowing
convergence. Default is 100}

\item{max_iterations}{Maximum number of iterations to run before forcing
termination. Default is 5000}
}
\value{
If return_states is FALSE (default), returns a matrix of optimized colors
in LAB color space. If return_states is TRUE, returns a list of matrices
showing the optimization process at intervals specified by save_every.
}
\description{
This function optimizes a set of colors to be more distinguishable for individuals
with various types of color vision deficiency (color blindness) while maintaining
the visual appeal for those with normal color vision.
}
\details{
The function uses a stochastic optimization approach to gradually adjust
colors to improve their distinguishability for different types of color vision
deficiency. It maintains color validity within LAB color space boundaries and
allows for certain colors to remain fixed during optimization.
}
\examples{
# Basic usage with 5 colors in LAB space
lab_colors <- matrix(c(
  50, 0, 0,
  60, 20, 30,
  70, -20, 40,
  40, 10, -30,
  80, -10, 20
), ncol = 3, byrow = TRUE)
optimized_colors <- adjust_for_cvd(lab_colors)

# Using base colors that won't be modified
base_colors <- matrix(c(50, 0, 0), ncol = 3)
optimized_with_base <- adjust_for_cvd(lab_colors, base_colors = base_colors)

}
